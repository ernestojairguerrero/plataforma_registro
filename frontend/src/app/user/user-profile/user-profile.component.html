<div class="container pt-5">
  <div class="row">
    <div class="col-md-6">
      <h1>Cargue de Usuarios y Perfiles</h1>
    </div>
    <div class="col-md-6 botones text-end">

      <ng-container *ngIf="!userProfile; else noData">
        <mat-button-toggle-group>
          <!-- <mat-button-toggle class="success" (click)="updateStepEdit(this.data[0].id, 8)">Volver</mat-button-toggle> -->
          <mat-button-toggle class="blur" (click)="addUserProfiles()">Guardar</mat-button-toggle>

        </mat-button-toggle-group>
      </ng-container>
      <ng-template #noData>
        <mat-button-toggle-group>
          <!-- <mat-button-toggle class="success" (click)="updateStepEdit(data[0].id, 8)">Volver</mat-button-toggle> -->
          <mat-button-toggle class="blur" (click)="editUserProfile(userProfile?.id)">Modificar</mat-button-toggle>
        </mat-button-toggle-group>
      </ng-template>

    </div>
  </div>
  <form [formGroup]="userProfilesForm" class="row">
    <div class="mb-3 col-md-6">
      <label for="file" class="form-label">Excel Usuario y Perfiles <b>*</b></label>
      <input type="file" class="form-control" id="file" (change)="onFileSelected($event)" accept=".xlsx, .xls">
     <div *ngIf="userProfile">
      <a [href]="userProfile?.file" download>Descargar archivo cargado</a>
     </div>
    </div>
    <div class="mb-3 pt-3 col-md-6">
      <figure>
        <blockquote class="blockquote">
          <a mat-raised-button class="blur" href="../../../assets/excels/MAESTRO DE  USUARIOS Y PERFILES.xlsx" download>Descargar maestro</a>
        </blockquote>
        <figcaption class="blockquote-footer">
          <cite title="Source Title">Aquí puedes descargar el formato con el cual debes subir la información requerida</cite>
        </figcaption>
      </figure>
    </div>
    <div class="mt-3 mb-3 col-md-6">
      <label for="description_user" class="form-label"><cite>Puede agregar su observación aquí (<b>Opcional</b>)</cite></label>
      <textarea class="form-control" id="description_user" rows="3" formControlName="description_user" [value]="userProfilesForm.get('description_user').value"></textarea>
    </div>
    <div class="mt-3 mb-3 col-md-6">
      <label for="description_admin" class="form-label"><cite>Observación de tus datos</cite></label>
      <textarea readonly class="form-control" id="description_admin" rows="3">{{ userProfile?.description_admin }}</textarea>
    </div>
  </form>
</div>
